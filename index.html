

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Announcement System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <!-- Login Section -->
        <div id="loginSection" class="max-w-md mx-auto bg-white rounded-xl shadow-md overflow-hidden md:max-w-2xl mb-8">
            <div class="p-8">
                <div class="uppercase tracking-wide text-sm text-indigo-500 font-semibold mb-1">Admin Access</div>
                <h2 class="text-2xl font-bold text-gray-800 mb-4">Login to Manage Announcements</h2>
                <div class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-4" role="alert">
                    <p class="font-bold">Demo Version</p>
                    <p>This is a prototype. Add your Firebase credentials later for full functionality.</p>
                </div>
                <form id="loginForm" class="space-y-4">
                    <div>
                        <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
                        <input type="email" id="email" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" required>
                    </div>
                    <div>
                        <label for="password" class="block text-sm font-medium text-gray-700">Password</label>
                        <input type="password" id="password" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" required>
                    </div>
                    <div>
                        <button type="submit" class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                            Sign in
                        </button>
                    </div>
                </form>
                <!-- Demo login button -->
                <div class="mt-4">
                    <button id="demoLogin" class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">
                        Use Demo Login
                    </button>
                </div>
            </div>
        </div>

        <!-- Admin Panel (hidden by default) -->
        <div id="adminPanel" class="hidden">
            <div class="max-w-4xl mx-auto bg-white rounded-xl shadow-md overflow-hidden mb-8">
                <div class="p-8">
                    <div class="flex justify-between items-center mb-6">
                        <div>
                            <div class="uppercase tracking-wide text-sm text-indigo-500 font-semibold">Admin Panel</div>
                            <h2 class="text-2xl font-bold text-gray-800">Create New Announcement</h2>
                        </div>
                        <button id="logoutBtn" class="px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-md text-gray-700">
                            Logout
                        </button>
                    </div>
                    
                    <form id="announcementForm" class="space-y-4">
                        <div>
                            <label for="title" class="block text-sm font-medium text-gray-700">Title</label>
                            <input type="text" id="title" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" required>
                        </div>
                        <div>
                            <label for="content" class="block text-sm font-medium text-gray-700">Content</label>
                            <textarea id="content" rows="4" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" required></textarea>
                        </div>
                        <div>
                            <label for="priority" class="block text-sm font-medium text-gray-700">Priority</label>
                            <select id="priority" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                                <option value="normal">Normal</option>
                                <option value="important">Important</option>
                                <option value="urgent">Urgent</option>
                            </select>
                        </div>
                        <div>
                            <button type="submit" class="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                                Post Announcement
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Public Announcements View -->
        <div id="announcementsView" class="max-w-4xl mx-auto">
            <div class="bg-white rounded-xl shadow-md overflow-hidden mb-8">
                <div class="p-8">
                    <div class="flex justify-between items-center mb-6">
                        <div class="flex items-center">
                            <div class="mr-4 w-24 h-24 bg-gray-100 rounded-lg flex items-center justify-center border-2 border-dashed border-gray-300">
                                <div class="text-center">
                                    <svg class="mx-auto h-12 w-12 text-gray-400" stroke="currentColor" fill="none" viewBox="0 0 48 48" aria-hidden="true">
                                        <path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                    </svg>
                                    <p class="text-xs text-gray-500">School Logo</p>
                                </div>
                            </div>
                            <div>
                                <h1 class="text-3xl font-bold text-gray-800">Special Science Class Grade 7 Jose Rizal</h1>
                                <p class="text-gray-600">Francisco P. Felix Memorial National High School</p>
                            </div>
                        </div>
                        <button id="adminLoginBtn" class="px-4 py-2 bg-indigo-600 hover:bg-indigo-700 rounded-md text-white">
                            Admin Login
                        </button>
                    </div>
                    
                    <div class="mb-6">
                        <h2 class="text-2xl font-semibold text-gray-700">Announcements</h2>
                        <p class="text-gray-500">Stay updated with the latest information</p>
                    </div>
                    
                    <div id="announcementsList" class="space-y-6">
                        <!-- Announcements will be displayed here -->
                        <div class="border-l-4 border-indigo-500 pl-4 py-2">
                            <p class="text-xs text-gray-500">May 15, 2023 • Important</p>
                            <h3 class="text-xl font-semibold text-gray-800">Welcome to Our Announcement System</h3>
                            <p class="text-gray-600 mt-2">This is a sample announcement. When you connect this to Firebase, you'll be able to post real announcements that will be stored in your database.</p>
                        </div>
                        <div class="border-l-4 border-red-500 pl-4 py-2">
                            <p class="text-xs text-gray-500">May 14, 2023 • Urgent</p>
                            <h3 class="text-xl font-semibold text-gray-800">System Maintenance Notice</h3>
                            <p class="text-gray-600 mt-2">This is another sample announcement with urgent priority. Different priorities are displayed with different colors.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-6 mt-8">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <h3 class="text-xl font-bold">Francisco P. Felix Memorial National High School</h3>
                    <p class="text-gray-300">School Year 2025-2026</p>
                </div>
                <div class="text-center md:text-right">
                    <p class="text-lg italic">"Where Excellence Matters, Inspiring Beyond"</p>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Firebase configuration placeholder
        const firebaseConfig = {
            // Add your Firebase configuration here later
            apiKey: "YOUR_API_KEY",
            authDomain: "YOUR_AUTH_DOMAIN",
            projectId: "YOUR_PROJECT_ID",
            storageBucket: "YOUR_STORAGE_BUCKET",
            messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
            appId: "YOUR_APP_ID"
        };

        // DOM Elements
        const loginSection = document.getElementById('loginSection');
        const adminPanel = document.getElementById('adminPanel');
        const announcementsView = document.getElementById('announcementsView');
        const loginForm = document.getElementById('loginForm');
        const announcementForm = document.getElementById('announcementForm');
        const logoutBtn = document.getElementById('logoutBtn');
        const adminLoginBtn = document.getElementById('adminLoginBtn');
        const demoLoginBtn = document.getElementById('demoLogin');
        const announcementsList = document.getElementById('announcementsList');

        // Demo announcements array
        let announcements = [
            {
                id: 1,
                title: "Welcome to Our Announcement System",
                content: "This is a sample announcement. When you connect this to Firebase, you'll be able to post real announcements that will be stored in your database. Click on any announcement to expand and see the full content. You can also create new announcements through the admin panel.",
                date: "May 15, 2023",
                priority: "important"
            },
            {
                id: 2,
                title: "System Maintenance Notice",
                content: "This is another sample announcement with urgent priority. Different priorities are displayed with different colors. Longer announcements will be automatically truncated and can be expanded by clicking on them. This helps keep your announcement page clean and organized while still allowing users to read the full content when they're interested.",
                date: "May 14, 2023",
                priority: "urgent"
            }
        ];

        // Initialize Firebase (commented out until real config is added)
        // firebase.initializeApp(firebaseConfig);
        // const auth = firebase.auth();
        // const db = firebase.firestore();

        // Event Listeners
        loginForm.addEventListener('submit', handleLogin);
        demoLoginBtn.addEventListener('click', handleDemoLogin);
        announcementForm.addEventListener('submit', handleAnnouncementSubmit);
        logoutBtn.addEventListener('click', handleLogout);
        adminLoginBtn.addEventListener('click', showLoginSection);

        // Functions
        function handleLogin(e) {
            e.preventDefault();
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            
            // This would be replaced with actual Firebase authentication
            alert("Firebase authentication not connected yet. Use the demo login button instead.");
            
            // Uncomment when Firebase is configured
            /*
            auth.signInWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    // Signed in
                    showAdminPanel();
                })
                .catch((error) => {
                    alert("Error: " + error.message);
                });
            */
        }

        function handleDemoLogin() {
            showAdminPanel();
        }

        function handleAnnouncementSubmit(e) {
            e.preventDefault();
            const title = document.getElementById('title').value;
            const content = document.getElementById('content').value;
            const priority = document.getElementById('priority').value;
            
            // Create new announcement object
            const newAnnouncement = {
                id: Date.now(), // Simple ID for demo
                title: title,
                content: content,
                date: new Date().toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' }),
                priority: priority
            };
            
            // Add to local array
            announcements.unshift(newAnnouncement);
            
            // Update UI
            renderAnnouncements();
            
            // Reset form
            announcementForm.reset();
            
            // This would be replaced with actual Firebase storage
            // Uncomment when Firebase is configured
            /*
            db.collection("announcements").add({
                title: title,
                content: content,
                priority: priority,
                timestamp: firebase.firestore.FieldValue.serverTimestamp()
            })
            .then(() => {
                announcementForm.reset();
                fetchAnnouncements(); // Refresh the list
            })
            .catch((error) => {
                console.error("Error adding document: ", error);
                alert("Error posting announcement: " + error.message);
            });
            */
        }

        function handleLogout() {
            // This would be replaced with actual Firebase logout
            // auth.signOut().then(() => {
                showAnnouncementsView();
            // });
        }

        function showLoginSection() {
            loginSection.classList.remove('hidden');
            adminPanel.classList.add('hidden');
            announcementsView.classList.add('hidden');
        }

        function showAdminPanel() {
            loginSection.classList.add('hidden');
            adminPanel.classList.remove('hidden');
            announcementsView.classList.remove('hidden');
        }

        function showAnnouncementsView() {
            loginSection.classList.add('hidden');
            adminPanel.classList.add('hidden');
            announcementsView.classList.remove('hidden');
        }

        function renderAnnouncements() {
            announcementsList.innerHTML = '';
            
            announcements.forEach(announcement => {
                const borderColor = announcement.priority === 'urgent' ? 'border-red-500' : 
                                   announcement.priority === 'important' ? 'border-indigo-500' : 
                                   'border-gray-500';
                
                const announcementEl = document.createElement('div');
                announcementEl.className = `border-l-4 ${borderColor} pl-4 py-2 announcement-item cursor-pointer transition-all duration-200`;
                
                // Create a shortened version of the content for preview
                const shortContent = announcement.content.length > 100 
                    ? announcement.content.substring(0, 100) + '...' 
                    : announcement.content;
                
                announcementEl.innerHTML = `
                    <p class="text-xs text-gray-500">${announcement.date} • ${capitalizeFirstLetter(announcement.priority)}</p>
                    <h3 class="text-xl font-semibold text-gray-800 flex items-center justify-between">
                        ${announcement.title}
                        <svg class="expand-icon w-5 h-5 text-gray-500 transform transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </h3>
                    <div class="announcement-content">
                        <p class="text-gray-600 mt-2 short-content">${shortContent}</p>
                        <p class="text-gray-600 mt-2 full-content hidden">${announcement.content}</p>
                    </div>
                `;
                
                announcementsList.appendChild(announcementEl);
                
                // Add click event to toggle expansion
                announcementEl.addEventListener('click', function() {
                    const shortContent = this.querySelector('.short-content');
                    const fullContent = this.querySelector('.full-content');
                    const expandIcon = this.querySelector('.expand-icon');
                    
                    shortContent.classList.toggle('hidden');
                    fullContent.classList.toggle('hidden');
                    expandIcon.classList.toggle('rotate-180');
                    
                    // Add highlight effect when expanded
                    this.classList.toggle('bg-blue-50');
                });
            });
        }

        function capitalizeFirstLetter(string) {
            return string.charAt(0).toUpperCase() + string.slice(1);
        }

        // Initialize the view
        showAnnouncementsView();
        renderAnnouncements();

        // This would fetch announcements from Firebase when connected
        /*
        function fetchAnnouncements() {
            db.collection("announcements")
                .orderBy("timestamp", "desc")
                .get()
                .then((querySnapshot) => {
                    announcements = [];
                    querySnapshot.forEach((doc) => {
                        const data = doc.data();
                        announcements.push({
                            id: doc.id,
                            title: data.title,
                            content: data.content,
                            date: data.timestamp.toDate().toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' }),
                            priority: data.priority
                        });
                    });
                    renderAnnouncements();
                })
                .catch((error) => {
                    console.error("Error getting documents: ", error);
                });
        }
        */
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'95d0756430a1bc46',t:'MTc1MjE1NDY3Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
